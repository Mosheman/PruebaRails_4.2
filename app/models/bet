class Bet
  include Mongoid::Document
  include Mongoid::Timestamps

  field :amount, type: Integer

  embedded_in :play
  belongs_to :player

  def default_bet play
	random_bet = rand(8..15)
	p_money = player.money
	if p_money <= 1000
		player.apply_bet p_money
		amount = p_money
	else
		# => Seting de bet amount by: a bet percentage.
		## Its down rounded because there are no cents in CLP
		amount = (p_money * (random_bet * 0.01)).floor
		player.apply_bet amount
	end
  end
  def conservative_bet play
  	## TODO
  end
end
